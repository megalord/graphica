<!doctype html>
<html>
<head>
    <title>Image Processing</title>
    <meta charset="UTF-8">
    <link href="http://fonts.googleapis.com/css?family=Baumans" rel="stylesheet" type="text/css">
    <style>
        html, body{height:100%;}
        body{margin:0px; font-family:'Baumans', cursive; position:relative;}
        header{position:absolute; top:0px; left:0px; width:100%; text-align:center; font-size:30px; z-index:1;}

        main{width:100%; height:calc(100% - 20px);}
        main>section{display:inline-block; vertical-align:top;}

        #images{width:80%; height:calc(100% - 40px); padding-top:40px; background-color:#f2f2f2; overflow-y:auto;}
        #images>*{width:300px; margin:10px; padding:10px; border:1px dotted #7852ff; display:inline-block; vertical-align:top;}
        h4{margin-top:0px; position:relative;}
        .frameButtons{position:absolute; top:0px; right:5px;}
        .close:hover{cursor:pointer; color:red;}

        #toolbar{width:20%; height:100%; background-color:#4628b2; color:white; position:relative; z-index:2;}
        #toolbar>ul{margin:0px; padding:2px; list-style-type:none;}
        .group{padding:3px 5px;}
        .group:hover{cursor:pointer;}
        .options{max-height:0px; overflow:hidden; text-align:center; background-color:#7852ff; transition-property:all; transition-duration:0.5s; transition-timing-function:cubic-bezier(0, 1, 0.5, 1);}
        .options.open{max-height:300px; padding:10px 5px;}
        input[type="number"]{width:40px;}
        [data-fn]{height:20px; margin:5px 0px; padding:5px 8px; display:inline-block; text-shadow:0 1px rgba(0, 0, 0, 0.4); background-color:#2dcc33; border-radius:15px; box-shadow:0px 4px 0px 0px #1e8722;}
        [data-fn]:hover{cursor:pointer; background-color:#2bc431;}
        [data-fn]:active{margin-bottom:-1px; padding-top:6px; box-shadow:0px 1px 0px 0px #1e8722;}
        input[type="file"]{display:none;}

        footer{width:100%; height:20px; color:#ffffff; text-align:center; background-color:#31b235;}
    </style>
</head>
<body>
    <header>Interactive Image Processing</header>
    <main>
        <section id="images">
        </section><!--
        remove whitespace
     --><section id="toolbar">
            <ul>
                <li>
                    <div class="group">File</div>
                    <div class="options open">
                        <span data-fn="loadTestImage">Use test image</span><br>
                        <form>
                            <input id="imageFile" type="file">
                            <span data-fn="loadUserImage">Upload an image</span>
                        </form>
                        <span data-fn="savePage">Save page</span><br>
                        <form>
                            <input id="jsonFile" type="file">
                            <span data-fn="openPage">Open page</span>
                        </form>
                    </div>
                </li>
                <li>
                    <div class="group">Filter</div>
                    <div class="options">
                        <form>
                            <label>Mask: <input type="text" name="mask" value="[[1, 0], [0, -1]]"></label>
                            <label>Scale: <input type="text" name="scale" value="1"></label>
                            <label>Center: <input type="number" name="center-x" value="0">
                                <input type="number" name="center-y" value="0">
                            </label>
                            <span data-fn="filter">Filter</span>
                        </form>
                        <form>
                            <label>Size: <input type="number" name="size" value="3" min="3"></label>
                            <span data-fn="median">Median</span>
                        </form>
                    </div>
                </li>
                <li>
                    <div class="group">Frequency</div>
                    <div class="options">
                        <span data-fn="fft2d">fft2d</span>
                    </div>
                </li>
                <li>
                    <div class="group">Histogram</div>
                    <div class="options">
                        <span data-fn="histogram">Histogram</span></br>
                        <span data-fn="histogramEq">Histogram Equalization</span>
                    </div>
                </li>
                <li>
                    <div class="group">Inspector</div>
                    <div class="options">
                        <span data-fn="inspect">Inspect Pixels</span>
                    </div>
                </li>
                <li>
                    <div class="group">Intensity transforms</div>
                    <div class="options">
                        <span data-fn="negative">Negative</span>
                        <form>
                            <label>Threshold value: <input type="number" name="T" value="128"></label><br>
                            <span data-fn="threshold">Threshold</span>
                        </form>
                        <form>
                            <label>c: <input type="number" name="c" value="1"></label><br>
                            <span data-fn="log">Log</span>
                        </form>
                        <form>
                            <label>c: <input type="number" name="c" value="1"></label><br>
                            <label>gamma: <input type="number" name="gamma" value="1"></label><br>
                            <span data-fn="gamma">Gamma (Power-Law)</span>
                        </form>
                        <form>
                            <span data-fn="piecewiseLinear">Piecewise Linear*</span>
                        </form>
                    </div>
                </li>
                <li>
                    <div class="group">Noise</div>
                    <div class="options">
                        <form>
                            <label>Salt: <input type="number" name="salt" value="0">%</label>
                            <label>Pepper: <input type="number" name="pepper" value="0">%</label><br>
                            <span data-fn="saltAndPepper">Salt & Pepper</span>
                        </form>
                        <form>
                            <label>Mean: <input type="number" name="mean" value="0"></label>&nbsp;<br>
                            <label>Standard Deviation: <input type="number" name="std" value="1"></label>&nbsp;<br>
                            <span data-fn="gaussian">Gaussian</span>
                        </form>
                    </div>
                </li>
                <li>
                    <div class="group">Quantize</div>
                    <div class="options">
                        <form>
                            <input type="hidden" name="type" value="linear">
                            <label>Levels: <input type="number" name="levels" value="2" min="1" max="30"></label>&nbsp;<br>
                            <span data-fn="quantize">Quantize</span>
                        </form>
                    </div>
                </li>
            </ul>
        </section>
    </main>
    <footer>a html5 canvas experiment by Jordan Griege</footer>
    <script src="js/helper.js"></script>
    <script src="js/imCanvas.js"></script>
    <script src="js/imProcess.js"></script>
    <!-- taken from https://github.com/wellflat/javascript-labs/blob/master/cv/fft/fft.js under MIT license -->
    <script src="js/libs/fft.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
